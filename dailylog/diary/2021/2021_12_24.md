Friday ,December 24 ,2021  work log
# List：
1. usbloader oppo板子端口默认是2800,这边是2801.
2. 鹏哥昨天执行了以下命令：
 make debug_attach BOARD=OPPO $YUNIP
3. usbloader可以仿真调试。
- 仿真运行 make debug BOARD=OPPO $YUNIP
- 直接烧写到 make flash BOARD=OPPO $YUNIP
# Bringup 任务进度
| 任务| 进度 | 问题 | 下一步计划|
| ------ | ------ | ------ |------ |
| Bringup显示 | 90%|手机和电脑连接正常显示|优化和测试


## [缺陷]
1. **[偶现]现在插上手机仿真是可以的。但是有的时候不可以仿真运行。连接jtag失败。**
- 问题原因：固件烧写方式错误，没有等待回读校验直接退出。
- 解决计划：已经解决。
2. **[必现]现在左右屏显示，反顺不一致。**
- 问题原因：咨询matt，这个不是问题，硬件装配后会有折射。
- 解决计划：问题延后，根据实际情况配置。
3. **[必现]只在仿真测试下，LT7911TE中断才触发。**
- 问题原因：LT7911TE中断函数无法触发。usbloader缺少中断函数。
- 解决计划：已经解决。
4. **[偶现]电脑连接，当电脑连接抓取usblog后，出席仿真，链接不显示问题，扩展屏出现后消失问题**
- 问题原因:更新usbloader问题解决。认为是usbloader无法执行中断导致usbloader异常推出。
- 解决计划：后续出现再定位。

## [优化]
代码之前一直不显示，有很多冗余的流程。需要在都好的情况下，一点一点删除。
- 修改需要问题1：LT7911UXC，上电时序完成后需要延时3s，否则有一个屏打不开。
- 检查TE中断之前，需要复位LT7911UXC，否则就会出现调 
panel_appflashpar_handle() 崩溃问题。这个需要定位查原因。


## [计划工作]
1. HID 工具已经有了，可以正常抓取
1. 固件打包输出。
2. 在家仿真调试。

下周提供120Hz 2/3D包含DSC压缩功能的固件。

什么是DSC压缩功能

整个工程的调试


测试10us个延时周期，可以。等待时间比较长。cnt计数 16712
测试5us个延时周期，可以。等待时间比较长。cnt计数 1168
测试2s个延时周期，不可以。等待时间比较长。cnt计数 10000
测试1s个延时周期，不可以。等待时间比较长。cnt计数 7318
测试0s个延时周期，不可以。等待时间短。cnt计数 37795 效果最好。


新的工程，编译遇到undefine reference to 'setSemiExpose'
该问题需要编译cdk问题。 解决方法：make cdk BOARD=OPPO


什么是DSC压缩功能，影像压缩传输（Ddisplay Stream Compression）简称DSC，将影像数据压缩后进行传输，达成低带宽就可以输出高分辩率内容，并且经过压缩后画面表现上视觉无失真。

## 收尾工作总结
1. 关注usbloader模式下，升级usbLoader.img,framework.img display效果。
- winddows --> Enterupdate 
- unbuntu --> Enterupdate
2. 亮度设置命令。
- HID命令设置亮度修改。level等级（100）和335的5等级table
3. ’2D/3D‘，HID --> default 2d/3d 
4.  代码分支需要使用宏控制。不能影响其他代码。提交pull request。
5.  现在眼镜左右屏是相反的，这需要研究是否有参数可以配置。
6. 项目完成需要三份文档。是否需要。
- 需求报告（需求分析，需求梳理）
- 软件设计（软件设计，开发调试）
- 测试报告（测试用例，测试报告）

首先作的是把整个过程梳理一遍。是否需要。

7. 把好的东西引进来，不好的东西去掉。

