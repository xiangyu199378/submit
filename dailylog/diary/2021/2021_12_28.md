
Tuesday ,December 28 ,2021  work log

# List:
1. 和测试沟通，定位问题设备使用时间。
2. 现有项目代码，复位流程优化。3s时间有点长。
3. question： asking for time of new lt79911 hex。


# Do：
1. 弄清flash参数是否需要。原来的lt7911D则没有。这里不考虑获取flash参数写入inittable。如果不复位，写入flash则失败。
2. DP，PANEL设备在线。1分钟检查一次。如果使用中断检测，不易太频繁。如果检查不在线会怎么样。
3. 显示低功耗模式。
- 睡眠模式：关闭LT7911,关闭redrive，
- 唤醒模式：打开LT7911,打开redrive，复位LT7911芯片。复位ecx335 左右屏回读标志位。执行display_init 显示函数，开屏操作。
- 屏幕睡眠：发送ECX343睡眠消息。
- 屏幕唤醒：发送ECX343唤醒消息。
4. 复位3秒，开屏前也要延时3秒，为什么。

## 现场问题：
[问题描述]视频盒子，上电开机，连接眼镜是可以的，但是在视频盒子电源工作时，链接眼镜是不可以的。

[收集信息]
1. 设备刚上电，温度不高，正插，反插的点亮概率高。
2. LW使用LT7911D，
3. 当RK3399盒子温度较高时，大概率点不亮。抓取日志，显示屏幕正常点亮。
4. 直接插拔眼镜，点亮时间很长。只要等的可以点亮。
5. 出现一次点亮后，点亮后又关掉了的情况。
6. hidapi 读取设备版本信息。
- lsusb设备，本公司设备，端口号：f408,端口设备。
- 发送获取版本号命令。
- V1.04P31||ma2480|V1.21600|20211029|develop|dd564ee
- 公司服务器每天都会编译一次固件。固件存放目录：192.268.20.170/firmware/archive .
- cnn 支持人脸。
[代码调试方法]
1. firmware_release.sh 是所有编译信息汇总。
2. slam_commind.c 封装有所有HID命令信息。


[下一步计划]
1. 设备当前ostontium流程问题。需要仔细梳理。
2. 343的延时和中断检查问题。是否去掉从flash读取参数。因为没有参数保存在flash中。

