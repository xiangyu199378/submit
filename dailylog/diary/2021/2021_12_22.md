Wednesday ,December 22 ,2021  work log
# List:
1. 亮度值无法调整。设置完成读出来还是默认值。
- 思考 查看屏幕相关的寄存器配置都有那些，是不是配置了自动模式。
2. 此次修改，软件流程没有做到全部细节理解。还需要梳理。
3. 屏幕修改点只有两个，开屏和亮度。
5. 更新usbootlaoder , 排查为什么非仿真情况下亮度不可以配置。
6. 怎么提供固件。
7. 当期复位流程有点多。
# DO：
1. 修改亮度值
- 设置亮度值  左 0x01 0xFF  右 0x00 0x64   亮度值，可以生效。
- 设置亮度值  左 0x00 0x00  右 0x01 0xFF    亮度值，可以生效。
- 设置亮度值  左 0x00 0x64    右 0x01 0xFF    亮度值，可以生效。
剩余排查：回读值为什么为默认值，结论不能立马读取，需要开屏完成后读取。

2. 排查固件烧写情况下为什么不一样
- 固件运行后电脑抓取usblog 工具：
@软件部-向莹光 ubuntu抓log工具：\\192.168.20.206\ShareFolder\1_Personal\alex\tools\hid_logcat
- 俊龙工，获取单独日志，这把有工具。
- 需要掌握ubuntu，windows下抓取日志方法，方便线程问题定位。
3. 调试运行情况下，仿真器跳过usbloader直接运行。上电启动，先起usbloader，loader再加载framework。



# 调试遇到问题：
偶现的问题一定要搞懂，不然到固件发布后，遇到问题就比较麻烦。

# Bringup 任务进度
| 任务| 进度 | 问题 | 下一步计划|
| ------ | ------ | ------ |------ |
| Bringup显示 | 60%|手机和电脑jtag调试下可以正常显示|1.解决调试过程出现的其他问题


## [缺陷]
1. **[偶现]现在插上手机仿真是可以的。但是有的时候不可以仿真运行。连接jtag失败。**
- 问题原因：待定位
- 解决计划：是否有供电稳定等问题，当前没有思路。
2. **[必现]现在左右屏显示，反顺不一致。**
- 问题原因：待定位
- 解决计划：查找手册，配置显示方向相关寄存器。
3. **[必现]只在仿真测试下，LT7911TE中断才触发。**
- 问题原因：LT7911TE中断函数无法触发。
- 解决计划：
  - 示波器查看TE中断信号
  - 测试引脚电压是否正常。
  - 查看usbloader是否有特殊配置。
4. **[偶现]电脑连接，当电脑连接抓取usblog后，出席仿真，链接不显示问题，扩展屏出现后消失问题**
- 问题原因:待定位。
- 解决计划

## [优化]
代码之前一直不显示，有很多冗余的流程。需要在都好的情况下，一点一点删除。
- 修改需要问题1：LT7911UXC，上电时序完成后需要延时3s，否则有一个屏打不开。
- 检查TE中断之前，需要复位LT7911UXC，否则就会出现调 
panel_appflashpar_handle() 崩溃问题。

## [计划工作]
1. PC机上怎么抓取HIDlog。包括ubuntu环境下和windows环境下。
2. 固件打包输出。

